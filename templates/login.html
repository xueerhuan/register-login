{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <title>用户注册 - yo博客</title>
    <!-- 引入 Bootstrap -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" type="text/css" media="all">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" type="text/css" media="all">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <link rel="stylesheet" href="{% static 'js/jquery-2.1.4.min.js' %}" type="text/css" media="all">
    <link rel="stylesheet" href="{% static 'js/bootstrap.js' %}" type="text/css" media="all">

</head>
<body>
<nav class="navbar navbar-default" role="navigation" style="background-color: #0f0f0f">
    <div class="container-fluid">
    <div class="navbar-header">
        <a class="navbar-brand" href="#">yo博客园</a>
    </div>
    <div>
        <ul class="nav navbar-nav">
            <li> <a class="navbar-brand" href="#"></a></li>
            <li></li>
            <li></li>
            <li></li>
           <li> <a href="#">注册</a></li>
            <li><a href="#">登陆</a></li>

        </ul>
    </div>
    </div>
</nav>

<div class="container">
        <form class="form-signin" method="post" action="/login/" novalidate>
            {% csrf_token %}
            <label for="username">用户名</label>
            {{ form.username }} <span style="color: red">{{ form.username.errors }}</span>
            <label for="username">密码</label>
            {{ form.pwd }} <span style="color: red">{{ form.pwd.errors }}</span>
            <div class="form-group">
                <label for="password">验证码</label>
                <div class="row">
                    <div class="col-xs-7">
                        <input type="text" class="form-control" name="check_code" id="check_code" placeholder="请输入验证码">
                    </div>
                    <div class="col-xs-5">
                        <img id="check_code_img" src="/create_code_img.html" onclick="refresh_check_code(this)">
{#                        src是url路径，可得到验证码图片，点击时调用refresh_check_code#}
                    </div>
                </div>
                <span style="color: red">{{ errors.check_code }}</span>
            </div>

              <span style="color: red">
                {{ form.non_field_errors }}
{#                {{ form._all_.errors }}#}
{#                {% if form|all_errors %}#}
{#                    {{ form|all_errors }}#}
{#                {% endif %}#}
            </span>
            <div class="checkbox">
                <label>
                    <input type="checkbox" value="1" name="auto_login"> 一个月内自动登陆
                </label>

                <div class="right">
                    <a href="#">忘记密码？</a>
                </div>
            </div>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
            <span>还没有账号？<a href="/register/">立即注册</a></span>
        </form>


    </div> <!-- /container -->

    <script>
        function refresh_check_code(ths) {
                ths.src += '?';
{#                src后面加问好会自动刷新验证码img的src#}
        }
    </script>
</body>
</html>

